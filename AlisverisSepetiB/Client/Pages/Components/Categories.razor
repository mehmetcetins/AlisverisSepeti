@using Microsoft.AspNetCore.Components.Rendering
@inject HttpClient Http

<MudAppBar Fixed="false">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" OnClick="@ToggleDrawer" />
</MudAppBar>
<MudDrawer @bind-Open="@Open">
    <MudDrawerHeader>
        <MudText Typo="Typo.h5">Kategoriler</MudText>
    </MudDrawerHeader>
    <MudDrawerContainer>
        <MudNavMenu>
            @if (categories != null)
            {
                <Recursive data="@categories" />

            }
        </MudNavMenu>
    </MudDrawerContainer>
</MudDrawer>

@code {


    private bool Open { get; set; } = false;
    private void ToggleDrawer(MouseEventArgs e)
    {
        Open = !Open;
    }

    private List<AlisverisSepetiB.Shared.Category> categories;
    protected override async Task OnInitializedAsync()
    {
        categories = await Http.GetFromJsonAsync<List<AlisverisSepetiB.Shared.Category>>("Home/Categories");
    }
}

